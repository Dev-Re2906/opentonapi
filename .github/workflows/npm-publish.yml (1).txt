            - نام: استقرار در Deno Deploy
  # می‌توانید دقیقاً به کامیت یا نسخه پین ​​کنید.
  # کاربردها: denoland/deployctl@7bded90d0d09cd99bbfb513966146315db97618b
  موارد استفاده: denoland/deployctl@1.13.1
  با:
    # نام یا شناسه پروژه‌ای که قرار است مستقر شود
    پروژه:
    # مسیر یا URL به فایل نقطه ورود
    نقطه ورود:
    # مسیر یا URL برای وارد کردن یک فایل نقشه
    نقشه واردات: # اختیاری
    # فقط فایل‌هایی را آپلود کنید که با این الگو مطابقت دارند (چندخطی و/یا با کاما از هم جدا شده‌اند)
    شامل: # اختیاری
    # فایل‌هایی که با این الگو مطابقت دارند (چندخطی و/یا جدا شده با کاما) را حذف کنید
    حذف: # اختیاری
    # مسیر دایرکتوری حاوی کد و فایل‌هایی که باید آپلود شوند
    ریشه: # اختیاری
          
            - نام: دانلود یک مصنوع ساخت
  موارد استفاده: actions/download-artifact@v4.3.0
  با:
    # نام مصنوع برای دانلود. اگر مشخص نشده باشد، تمام مصنوعات برای اجرا دانلود می‌شوند.
    نام: # اختیاری
    # شناسه‌ی مصنوعات برای دانلود، جدا شده با کاما. می‌توان از ورودی‌های `artifact-ids` یا `name` استفاده کرد، اما نمی‌توان هر دو را با هم وارد کرد.
    شناسه‌های مصنوعات: # اختیاری
    # مسیر مقصد. از بسط ساده‌ی تیلده پشتیبانی می‌کند. مقدار پیش‌فرض $GITHUB_WORKSPACE است.
    مسیر: # اختیاری
    # یک الگوی glob که با مصنوعاتی که باید دانلود شوند مطابقت دارد. در صورت مشخص شدن نام، نادیده گرفته می‌شود.
    الگو: # اختیاری
    # وقتی چندین مصنوع مطابقت داده می‌شوند، این رفتار دایرکتوری‌های مقصد را تغییر می‌دهد. اگر درست باشد، مصنوعات دانلود شده در همان دایرکتوری مشخص شده توسط مسیر قرار می‌گیرند. اگر نادرست باشد، مصنوعات دانلود شده در دایرکتوری‌های جداگانه با نام مشخص شده در مسیر مشخص شده استخراج می‌شوند.
    ادغام چندگانه: # اختیاری، پیش‌فرض نادرست است
    # توکن گیت‌هاب مورد استفاده برای احراز هویت با API گیت‌هاب. این مورد هنگام دانلود مصنوعات از یک مخزن متفاوت یا از یک اجرای گردش کار متفاوت مورد نیاز است. اگر این مورد مشخص نشده باشد، اکشن تلاش می‌کند مصنوعات را از مخزن فعلی و اجرای گردش کار فعلی دانلود کند.
    github-token: # اختیاری
    # مالک مخزن و نام مخزن که با "/" به هم متصل شده‌اند. اگر github-token مشخص شده باشد، این مخزنی است که مصنوعات از آن دانلود می‌شوند.
    مخزن: # اختیاری، مقدار پیش‌فرض ${{ github.repository }} است
    # شناسه‌ی روند کاری که مصنوعات دانلودی مورد نظر از آن آپلود شده‌اند. اگر github-token مشخص شده باشد، این روندی است که مصنوعات از آن دانلود خواهند شد.
    ‎run-id: # اختیاری، پیش‌فرض ‎${{ github.run_id }}‎ است‎
          # This workflow will run tests using node and then publish a package to GitHub Packages when a release is created
# For more information see: https://docs.github.com/en/actions/publishing-packages/publishing-nodejs-packages

name: Node.js Package

on:
  release:
    types: [created]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
      - run: npm ci
      - run: npm test

  publish-npm:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          registry-url: https://registry.npmjs.org/
      - run: npm ci
      - run: npm publish
        env:
          NODE_AUTH_TOKEN: ${{secrets.npm_token}}
